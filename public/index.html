<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather app</title>
</head>
<body>

<h1>WEATHER APP</h1>
<p>Latitude: <span id="latitude"></span></p>
<p>Longitude: <span id="longitude"></span></p>

<script>
    getWeatherData();

    function getWeatherData() {
        if ('geolocation' in navigator) {
            console.log('Geolocation information available');
            navigator.geolocation.getCurrentPosition(async latlon => {
                console.log(latlon.coords);
                const lat = latlon.coords.latitude.toFixed(2).toString();
                const lon = latlon.coords.longitude.toFixed(2).toString();
                document.getElementById('latitude').innerText = lat;
                document.getElementById('longitude').innerText = lon;

                const url = `/weather/${lat},${lon}`;
                const res = await fetch(url);
                const data = await res.json();
                console.log(data);

            });
        } else {
            console.log('Geolocation information not available');
        }
    }
</script>
</body>
</html>